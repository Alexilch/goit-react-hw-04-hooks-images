{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Initial/Initial.module.css","components/NotFound/NotFound.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/images/hero.jpg","components/Initial/Initial.js","components/Button/Button.js","components/NotFound/NotFound.js","services/searchAPI.js","components/RenderImages/RenderImages.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","SearchForm","event","preventDefault","trim","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","type","SearchForm_button","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","ref","ImageGalleryItem_image","src","alt","modalRoot","document","querySelector","Modal","imageModal","onClose","onArrowLeft","onArrowRight","useEffect","handlekeyDown","code","key","window","addEventListener","removeEventListener","createPortal","overlay","target","modal","leftarrow","rightarrow","ImageGallery","images","showModal","setShowModal","setImageModal","toggleModal","map","id","handleClick","sourceImg","indexOfImg","indexOf","length","LoaderComponent","loader","color","height","width","Component","Initial","hero","Button","Buttonwrapp","NotFound","onError","notfoundwrapper","API","imagesAPI","searchQuery","page","fetch","then","response","ok","json","Promise","reject","Error","Status","RenderImages","setPage","setImages","setError","status","setStatus","hits","prevImages","onScroll","catch","resetImages","scrollTo","top","documentElement","scrollHeight","behavior","block","message","prevPage","App","setSearchQuery","transition","Slide","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b8381279.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3lRiq\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__14n2W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Buttonwrapp\":\"Button_Buttonwrapp__1x8y9\",\"Button\":\"Button_Button__3-F_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3-2av\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__lTxNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero\":\"Initial_hero__2x-7N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notfoundwrapper\":\"NotFound_notfoundwrapper__EqK19\"};","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\nimport '../icons/search_black_24dp.svg';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleInputChange = event => {\r\n    setQuery(event.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (query.trim() === '') {\r\n      toast.error('Cannot send empty request', {\r\n        position: 'top-left',\r\n        autoClose: 2000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchForm_button}></button>\r\n        <input\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={handleInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\n// export default class Searchbar extends Component {\r\n//   state = {\r\n//     query: '',\r\n//   };\r\n\r\n//   handleInputChange = event => {\r\n//     this.setState({ query: event.currentTarget.value.toLowerCase() });\r\n//   };\r\n\r\n//   handleSubmit = event => {\r\n//     event.preventDefault();\r\n\r\n//     if (this.state.query.trim() === '') {\r\n//       toast.error('Cannot send empty request', {\r\n//         position: 'top-left',\r\n//         autoClose: 2000,\r\n//         hideProgressBar: true,\r\n//         closeOnClick: true,\r\n//         pauseOnHover: true,\r\n//         draggable: true,\r\n//         progress: undefined,\r\n//       });\r\n//       return;\r\n//     }\r\n\r\n// this.props.onSubmit(this.state.query);\r\n// this.setState({ query: '' });\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <header className={s.Searchbar}>\r\n//         <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n//           <button type=\"submit\" className={s.SearchForm_button}>\r\n//             {/* <span className={s.button_label}>Search</span> */}\r\n//           </button>\r\n//           <input\r\n//             className={s.SearchForm_input}\r\n//             type=\"text\"\r\n//             autoComplete=\"off\"\r\n//             autoFocus\r\n//             placeholder=\"Search images and photos\"\r\n//             value={this.state.query}\r\n//             onChange={this.handleInputChange}\r\n//           />\r\n//         </form>\r\n//       </header>\r\n//     );\r\n//   }\r\n// }\r\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\nexport default function ImageGalleryItem({\n  webformatURL,\n  largeImageURL,\n  tags,\n  onClick,\n  ref = null,\n}) {\n  return (\n    <li className={s.ImageGalleryItem} ref={ref}>\n      <img\n        className={s.ImageGalleryItem_image}\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n        onClick={onClick}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n  onClick: PropTypes.func,\n};\n","import { createPortal } from 'react-dom';\nimport { useEffect } from 'react';\n// import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\nimport '../icons/arrow_back_ios_black_24dp.svg';\nimport '../icons/arrow_forward_ios_black_24dp.svg';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({\n  imageModal,\n  onClose,\n  onArrowLeft,\n  onArrowRight,\n}) {\n  useEffect(() => {\n    const handlekeyDown = event => {\n      if (event.code === 'Escape') {\n        onClose();\n      }\n      if (event.key === 'ArrowLeft') {\n        onArrowLeft();\n      }\n      if (event.key === 'ArrowRight') {\n        onArrowRight();\n      }\n    };\n    window.addEventListener('keydown', handlekeyDown);\n    return () => window.removeEventListener('keydown', handlekeyDown);\n  }, [onClose, onArrowLeft, onArrowRight]);\n\n  const handleLeft = () => {\n    onArrowLeft();\n  };\n\n  const handleRight = () => {\n    onArrowRight();\n  };\n\n  const handleBackDropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={handleBackDropClick}>\n      <div className={s.modal}>\n        <button\n          className={s.leftarrow}\n          type=\"button\"\n          onClick={() => handleLeft()}\n        ></button>\n        <img src={imageModal} alt=\"\" />\n        <button\n          className={s.rightarrow}\n          type=\"button\"\n          onClick={() => handleRight()}\n        ></button>\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\n// export default class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener('keydown', this.handlekeyDown);\n//   }\n\n//   componentWillUnmount() {\n//     window.removeEventListener('keydown', this.handlekeyDown);\n//   }\n\n//   handlekeyDown = event => {\n//     if (event.code === 'Escape') {\n//       this.props.onClose();\n//     }\n//     if (event.key === 'ArrowLeft') {\n//       this.props.onArrowLeft();\n//     }\n//     if (event.key === 'ArrowRight') {\n//       this.props.onArrowRight();\n//     }\n//   };\n\n//   handleLeft = () => {\n//     this.props.onArrowLeft();\n//   };\n\n//   handleRight = () => {\n//     this.props.onArrowRight();\n//   };\n\n//   handleBackDropClick = event => {\n//     if (event.currentTarget === event.target) {\n//       this.props.onClose();\n//     }\n//   };\n\n//   render() {\n//     const { imageModal } = this.props;\n//     return createPortal(\n//       <div className={s.overlay} onClick={this.handleBackDropClick}>\n//         <div className={s.modal}>\n//           <button\n//             className={s.leftarrow}\n//             type=\"button\"\n//             onClick={() => this.handleLeft()}\n//           ></button>\n//           <img src={imageModal} alt=\"\" />\n//           <button\n//             className={s.rightarrow}\n//             type=\"button\"\n//             onClick={() => this.handleRight()}\n//           ></button>\n//         </div>\n//       </div>,\n//       modalRoot,\n//     );\n//   }\n// }\n\nModal.propTypes = {\n  modalImg: PropTypes.string,\n  onClose: PropTypes.func,\n};\n","import { useState } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport Modal from '../Modal/Modal';\nimport PropTypes, { shape } from 'prop-types';\n\nexport default function ImageGallery({ images }) {\n  const [showModal, setShowModal] = useState(false);\n  const [imageModal, setImageModal] = useState('');\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const handleClick = largeImageURL => {\n    setImageModal(largeImageURL);\n    toggleModal();\n  };\n\n  const onArrowRight = () => {\n    const sourceImg = images.map(({ largeImageURL }) => {\n      return largeImageURL;\n    });\n    let indexOfImg = sourceImg.indexOf(imageModal);\n\n    if (indexOfImg + 1 > sourceImg.length - 1) {\n      indexOfImg = -1;\n    }\n    setImageModal(sourceImg[indexOfImg + 1]);\n  };\n\n  const onArrowLeft = () => {\n    const sourceImg = images.map(({ largeImageURL }) => {\n      return largeImageURL;\n    });\n    let indexOfImg = sourceImg.indexOf(imageModal);\n\n    if (indexOfImg === 0) {\n      indexOfImg = sourceImg.length;\n    }\n    setImageModal(sourceImg[indexOfImg - 1]);\n  };\n\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              largeImageURL={largeImageURL}\n              tags={tags}\n              onClick={() => {\n                handleClick(largeImageURL);\n              }}\n            />\n          );\n        })}\n      </ul>\n      {showModal && (\n        <Modal\n          imageModal={imageModal}\n          onClose={toggleModal}\n          onArrowRight={onArrowRight}\n          onArrowLeft={onArrowLeft}\n        />\n      )}\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ),\n};\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default class LoaderComponent extends Component {\n  render() {\n    return (\n      <Loader\n        className={s.loader}\n        type=\"Bars\"\n        color=\"#3f51b5\"\n        height={90}\n        width={90}\n      />\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/hero.bca0950e.jpg\";","import s from './Initial.module.css';\nimport '../images/hero.jpg';\n\nexport default function Initial() {\n  return (\n    <div className={s.hero}>\n      <h1>Lets search some pictures</h1>\n    </div>\n  );\n}\n","import s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <div className={s.Buttonwrapp}>\n      <button className={s.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n}\n","import PropTypes from 'prop-types';\nimport s from './NotFound.module.css';\n\nexport default function NotFound({ onError }) {\n  return (\n    <div className={s.notfoundwrapper}>\n      <h1>{onError}</h1>\n    </div>\n  );\n}\nNotFound.propTypes = {\n  errorMessage: PropTypes.string,\n};\n","const imagesAPI = ({ searchQuery = '', page = 1 }) => {\n  const BASE_URL =\n    'https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12';\n  const API_KEY = '23976074-1864ef446645d9fee251ba638';\n  return fetch(`${BASE_URL}&q=${searchQuery}&page=${page}&key=${API_KEY}`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`API error!`));\n    },\n  );\n};\nconst API = { imagesAPI };\n\nexport default API;\n","import React, { useState, useEffect } from 'react';\r\n// import {Component} from 'react'\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGallery from '../ImageGallery';\r\nimport Loader from '../Loader';\r\nimport Initial from '../Initial';\r\nimport Button from '../Button';\r\nimport NotFound from '../NotFound';\r\nimport API from '../../services/searchAPI';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  REJECTED: 'rejected',\r\n  RESOLVED: 'resolved',\r\n};\r\n\r\nexport default function RenderImages({ searchQuery }) {\r\n  const [page, setPage] = useState(1);\r\n  const [images, setImages] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState('idle');\r\n\r\n  useEffect(() => {\r\n    if (searchQuery === '') {\r\n      return;\r\n    }\r\n    setStatus(Status.PENDING);\r\n\r\n    API.imagesAPI({ searchQuery, page })\r\n      .then(query => {\r\n        if (!query.hits.length) {\r\n          return Promise.reject(\r\n            new Error(`Results for: ${searchQuery} not found.`),\r\n          );\r\n        }\r\n        setImages(prevImages => [...prevImages, ...query.hits]);\r\n        setStatus(Status.RESOLVED);\r\n        onScroll();\r\n      })\r\n      .catch(error => {\r\n        setError(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [searchQuery, page]);\r\n\r\n  useEffect(() => {\r\n    resetImages();\r\n  }, [searchQuery]);\r\n\r\n  const onScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n      block: 'end',\r\n    });\r\n  };\r\n\r\n  const resetImages = () => {\r\n    setImages([]);\r\n    setPage(1);\r\n  };\r\n\r\n  const handleLoadmoreButton = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n    onScroll();\r\n  };\r\n\r\n  if (status === Status.IDLE) {\r\n    return <Initial />;\r\n  }\r\n  if (status === Status.PENDING) {\r\n    return (\r\n      <>\r\n        <Loader />\r\n        <ImageGallery images={images} />\r\n      </>\r\n    );\r\n  }\r\n  if (status === Status.REJECTED) {\r\n    return <NotFound onError={error.message} />;\r\n  }\r\n  if (status === Status.RESOLVED) {\r\n    return (\r\n      <>\r\n        <ImageGallery images={images} />\r\n        {images.length > 11 && <Button onClick={handleLoadmoreButton} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nRenderImages.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export default class RenderImages extends Component {\r\n//   state = {\r\n//     page: 1,\r\n//     images: [],\r\n//     error: null,\r\n//     status: 'idle',\r\n//   };\r\n\r\n//   componentDidUpdate(prevProps, prevState) {\r\n//     const prevSearch = prevProps.searchQuery;\r\n//     const curentSearch = this.props.searchQuery;\r\n\r\n//     const prevPage = prevState.page;\r\n//     const curentPage = this.state.page;\r\n\r\n//     if (prevSearch !== curentSearch) {\r\n//       this.resetImages();\r\n//       this.onSearch();\r\n//       this.setState({ status: 'pending' });\r\n//     }\r\n//     if (prevPage !== curentPage) {\r\n//       this.onSearch();\r\n//       this.setState({ status: 'pending' });\r\n//     }\r\n//   }\r\n\r\n//   onSearch() {\r\n//     this.setState({ status: 'pending' });\r\n//     const { page } = this.state;\r\n//     const { searchQuery } = this.props;\r\n\r\n//     API(searchQuery, page)\r\n//       .then(query => {\r\n//         if (query.hits.length === 0) {\r\n//           return Promise.reject(\r\n//             new Error(`Results for: ${searchQuery}  not found.`),\r\n//           );\r\n//         }\r\n//         this.setState({\r\n//           images: [...this.state.images, ...query.hits],\r\n//           status: 'resolved',\r\n//         });\r\n//         this.onScroll();\r\n//       })\r\n//       .catch(error => this.setState({ error, status: 'rejected' }));\r\n//   }\r\n\r\n//   onScroll = () => {\r\n//     window.scrollTo({\r\n//       top: document.documentElement.scrollHeight,\r\n//       behavior: 'smooth',\r\n//       block: 'end',\r\n//     });\r\n//   };\r\n\r\n//   resetImages = () => {\r\n//     this.setState({ images: [], page: 1 });\r\n//   };\r\n\r\n//   handleLoadmoreButton = () => {\r\n//     this.setState(prevState => ({ page: prevState.page + 1 }));\r\n//     this.onScroll();\r\n//   };\r\n\r\n//   render() {\r\n//     const { status, images, error } = this.state;\r\n//     if (status === 'idle') {\r\n//       return <Initial />;\r\n//     }\r\n//     if (status === 'pending') {\r\n//       return (\r\n//         <>\r\n//           <Loader />\r\n//           <ImageGallery images={images} />\r\n//         </>\r\n//       );\r\n//     }\r\n//     if (status === 'rejected') {\r\n//       return <NotFound onError={error.message} />;\r\n//     }\r\n//     if (status === 'resolved') {\r\n//       return (\r\n//         <>\r\n//           <ImageGallery images={images} />\r\n//           <Button onClick={this.handleLoadmoreButton} />\r\n//         </>\r\n//       );\r\n//     }\r\n//   }\r\n// }\r\n","import Searchbar from './components/Searchbar';\nimport { useState } from 'react';\nimport { ToastContainer, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport RenderImages from './components/RenderImages';\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSearchbarSubmit = searchQuery => {\n    setSearchQuery(searchQuery);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSearchbarSubmit} />\n      <RenderImages searchQuery={searchQuery} />\n      <ToastContainer transition={Slide} />\n    </div>\n  );\n}\n\n// export default class App extends Component {\n//   state = {\n//     searchQuery: '',\n//   };\n\n// handleSearchbarSubmit = searchQuery => {\n//   this.setState({ searchQuery });\n// };\n\n//   render() {\n//     return (\n//       <div className=\"App\">\n//         <Searchbar onSubmit={this.handleSearchbarSubmit} />\n//         <RenderImages searchQuery={this.state.searchQuery} />\n//         <ToastContainer transition={Slide} />\n//       </div>\n//     );\n//   }\n// }\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3-Iep\",\"SearchForm\":\"Searchbar_SearchForm__ePhlF\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2x17w\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__JE1eA\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2zmhK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2ryoB\",\"modal\":\"Modal_modal__1zVy7\",\"showModal\":\"Modal_showModal__3DmPB\",\"leftarrow\":\"Modal_leftarrow__rR7Jv\",\"rightarrow\":\"Modal_rightarrow__3zG51\"};"],"sourceRoot":""}