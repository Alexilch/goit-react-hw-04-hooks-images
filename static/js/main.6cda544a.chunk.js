(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,r){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3lRiq",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__14n2W"}},16:function(e,t,r){e.exports={Buttonwrapp:"Button_Buttonwrapp__1x8y9",Button:"Button_Button__3-F_o"}},18:function(e,t,r){e.exports={ImageGallery:"ImageGallery_ImageGallery__3-2av"}},21:function(e,t,r){e.exports={loader:"Loader_loader__lTxNx"}},22:function(e,t,r){e.exports={hero:"Initial_hero__2x-7N"}},23:function(e,t,r){e.exports={notfoundwrapper:"NotFound_notfoundwrapper__EqK19"}},28:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(4),c=r.n(o),i=(r(28),r(3)),s=r(6),l=r(7),u=r.n(l),m=r(1);function h(e){var t=e.onSubmit,r=Object(a.useState)(""),n=Object(i.a)(r,2),o=n[0],c=n[1];return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):s.c.error("Cannot send empty request",{position:"top-left",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(m.jsx)("button",{type:"submit",className:u.a.SearchForm_button}),Object(m.jsx)("input",{className:u.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())}})]})})}r(30);var j=r(17),b=r(15),d=r.n(b);function f(e){var t=e.webformatURL,r=e.largeImageURL,a=e.tags,n=e.onClick,o=e.ref,c=void 0===o?null:o;return Object(m.jsx)("li",{className:d.a.ImageGalleryItem,ref:c,children:Object(m.jsx)("img",{className:d.a.ImageGalleryItem_image,src:t,alt:a,"data-source":r,onClick:n})})}var p=r(18),g=r.n(p),_=r(10),O=r(11),v=r(13),x=r(12),y=r(8),w=r.n(y),S=document.querySelector("#modal-root"),k=function(e){Object(v.a)(r,e);var t=Object(x.a)(r);function r(){var e;Object(_.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handlekeyDown=function(t){"Escape"===t.code&&e.props.onClose(),"ArrowLeft"===t.key&&e.props.onArrowLeft(),"ArrowRight"===t.key&&e.props.onArrowRight()},e.handleLeft=function(){e.props.onArrowLeft()},e.handleRight=function(){e.props.onArrowRight()},e.handleBackDropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(O.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handlekeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handlekeyDown)}},{key:"render",value:function(){var e=this,t=this.props.imageModal;return Object(o.createPortal)(Object(m.jsx)("div",{className:w.a.overlay,onClick:this.handleBackDropClick,children:Object(m.jsxs)("div",{className:w.a.modal,children:[Object(m.jsx)("button",{className:w.a.leftarrow,type:"button",onClick:function(){return e.handleLeft()}}),Object(m.jsx)("img",{src:t,alt:""}),Object(m.jsx)("button",{className:w.a.rightarrow,type:"button",onClick:function(){return e.handleRight()}})]})}),S)}}]),r}(a.Component);function I(e){var t=e.images,r=Object(a.useState)(!1),n=Object(i.a)(r,2),o=n[0],c=n[1],s=Object(a.useState)(""),l=Object(i.a)(s,2),u=l[0],h=l[1],j=function(){c(!o)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:g.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,a=e.largeImageURL,n=e.tags;return Object(m.jsx)(f,{webformatURL:r,largeImageURL:a,tags:n,onClick:function(){!function(e){h(e),j()}(a)}},t)}))}),o&&Object(m.jsx)(k,{imageModal:u,onClose:j,onArrowRight:function(){var e=t.map((function(e){return e.largeImageURL})),r=e.indexOf(u);r+1>e.length-1&&(r=-1),h(e[r+1])},onArrowLeft:function(){var e=t.map((function(e){return e.largeImageURL})),r=e.indexOf(u);0===r&&(r=e.length),h(e[r-1])}})]})}r(31);var C=r(20),L=r.n(C),N=r(21),F=r.n(N),R=function(e){Object(v.a)(r,e);var t=Object(x.a)(r);function r(){return Object(_.a)(this,r),t.apply(this,arguments)}return Object(O.a)(r,[{key:"render",value:function(){return Object(m.jsx)(L.a,{className:F.a.loader,type:"Bars",color:"#3f51b5",height:90,width:90})}}]),r}(a.Component),B=r(22),A=r.n(B);r.p;function E(){return Object(m.jsx)("div",{className:A.a.hero,children:Object(m.jsx)("h1",{children:"Lets search some pictures"})})}var G=r(16),M=r.n(G);function P(e){var t=e.onClick;return Object(m.jsx)("div",{className:M.a.Buttonwrapp,children:Object(m.jsx)("button",{className:M.a.Button,type:"button",onClick:t,children:"Load more"})})}var U=r(23),D=r.n(U);function q(e){var t=e.onError;return Object(m.jsx)("div",{className:D.a.notfoundwrapper,children:Object(m.jsx)("h1",{children:t})})}var z={imagesAPI:function(e){var t=e.searchQuery,r=void 0===t?"":t,a=e.page,n=void 0===a?1:a;return fetch("".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12","&q=").concat(r,"&page=").concat(n,"&key=").concat("23976074-1864ef446645d9fee251ba638")).then((function(e){return e.ok?e.json():Promise.reject(new Error("API error!"))}))}},J="idle",Q="pending",T="rejected",H="resolved";function K(e){var t=e.searchQuery,r=Object(a.useState)(1),n=Object(i.a)(r,2),o=n[0],c=n[1],s=Object(a.useState)([]),l=Object(i.a)(s,2),u=l[0],h=l[1],b=Object(a.useState)(null),d=Object(i.a)(b,2),f=d[0],p=d[1],g=Object(a.useState)("idle"),_=Object(i.a)(g,2),O=_[0],v=_[1];Object(a.useEffect)((function(){""!==t&&(v(Q),z.imagesAPI({searchQuery:t,page:o}).then((function(e){if(0===e.hits.length)return Promise.reject(new Error("Results for: ".concat(t," not found.")));h((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e.hits))})),v(H),x()})).catch((function(e){p(e),v(T)})))}),[t,o]),Object(a.useEffect)((function(){y()}),[t]);var x=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth",block:"end"})},y=function(){h([]),c(1)};return O===J?Object(m.jsx)(E,{}):O===Q?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(R,{}),Object(m.jsx)(I,{images:u})]}):O===T?Object(m.jsx)(q,{onError:f.message}):O===H?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(I,{images:u}),Object(m.jsx)(P,{onClick:function(){c((function(e){return e+1})),x()}})]}):void 0}function W(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),r=t[0],n=t[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(h,{onSubmit:function(e){n(e)}}),Object(m.jsx)(K,{searchQuery:r}),Object(m.jsx)(s.b,{transition:s.a})]})}c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(W,{})}),document.getElementById("root"))},7:function(e,t,r){e.exports={Searchbar:"Searchbar_Searchbar__3-Iep",SearchForm:"Searchbar_SearchForm__ePhlF",SearchForm_button:"Searchbar_SearchForm_button__2x17w",SearchForm_button_label:"Searchbar_SearchForm_button_label__JE1eA",SearchForm_input:"Searchbar_SearchForm_input__2zmhK"}},8:function(e,t,r){e.exports={overlay:"Modal_overlay__2ryoB",modal:"Modal_modal__1zVy7",showModal:"Modal_showModal__3DmPB",leftarrow:"Modal_leftarrow__rR7Jv",rightarrow:"Modal_rightarrow__3zG51"}}},[[52,1,2]]]);
//# sourceMappingURL=main.6cda544a.chunk.js.map