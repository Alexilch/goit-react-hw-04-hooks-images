{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Initial/Initial.module.css","components/NotFound/NotFound.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/images/hero.jpg","components/Initial/Initial.js","components/Button/Button.js","components/NotFound/NotFound.js","services/searchAPI.js","components/RenderImages/RenderImages.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","SearchForm","event","preventDefault","trim","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","type","SearchForm_button","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","ref","ImageGalleryItem_image","src","alt","modalRoot","document","querySelector","Modal","imageModal","onClose","onArrowLeft","onArrowRight","handlekeyDown","useCallback","code","key","useEffect","window","addEventListener","removeEventListener","createPortal","overlay","target","modal","leftarrow","rightarrow","ImageGallery","images","showModal","setShowModal","setImageModal","toggleModal","map","id","handleClick","sourceImg","indexOfImg","indexOf","length","LoaderComponent","loader","color","height","width","Component","Initial","hero","Button","Buttonwrapp","NotFound","onError","notfoundwrapper","API","imagesAPI","searchQuery","page","fetch","then","response","ok","json","Promise","reject","Error","Status","RenderImages","setPage","setImages","setError","status","setStatus","hits","prevImages","onScroll","catch","resetImages","scrollTo","top","documentElement","scrollHeight","behavior","block","message","prevPage","App","setSearchQuery","transition","Slide","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0145d105.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3lRiq\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__14n2W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Buttonwrapp\":\"Button_Buttonwrapp__1x8y9\",\"Button\":\"Button_Button__3-F_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3-2av\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__lTxNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero\":\"Initial_hero__2x-7N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notfoundwrapper\":\"NotFound_notfoundwrapper__EqK19\"};","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\nimport '../icons/search_black_24dp.svg';\nimport PropTypes from 'prop-types';\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (query.trim() === '') {\n      toast.error('Cannot send empty request', {\n        position: 'top-left',\n        autoClose: 2000,\n        hideProgressBar: true,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchForm_button}></button>\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={handleInputChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\n\n\n\n// export default class Searchbar extends Component {\n//   state = {\n//     query: '',\n//   };\n\n//   handleInputChange = event => {\n//     this.setState({ query: event.currentTarget.value.toLowerCase() });\n//   };\n\n//   handleSubmit = event => {\n//     event.preventDefault();\n\n//     if (this.state.query.trim() === '') {\n//       toast.error('Cannot send empty request', {\n//         position: 'top-left',\n//         autoClose: 2000,\n//         hideProgressBar: true,\n//         closeOnClick: true,\n//         pauseOnHover: true,\n//         draggable: true,\n//         progress: undefined,\n//       });\n//       return;\n//     }\n\n// this.props.onSubmit(this.state.query);\n// this.setState({ query: '' });\n//   };\n\n//   render() {\n//     return (\n//       <header className={s.Searchbar}>\n//         <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n//           <button type=\"submit\" className={s.SearchForm_button}>\n//             {/* <span className={s.button_label}>Search</span> */}\n//           </button>\n//           <input\n//             className={s.SearchForm_input}\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             value={this.state.query}\n//             onChange={this.handleInputChange}\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\nexport default function ImageGalleryItem({\n  webformatURL,\n  largeImageURL,\n  tags,\n  onClick,\n  ref = null,\n}) {\n  return (\n    <li className={s.ImageGalleryItem} ref={ref}>\n      <img\n        className={s.ImageGalleryItem_image}\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n        onClick={onClick}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n  onClick: PropTypes.func,\n};\n","import { createPortal } from 'react-dom';\nimport { useEffect, useCallback } from 'react';\n// import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\nimport '../icons/arrow_back_ios_black_24dp.svg';\nimport '../icons/arrow_forward_ios_black_24dp.svg';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({\n  imageModal,\n  onClose,\n  onArrowLeft,\n  onArrowRight,\n}) {\n  const handlekeyDown = useCallback(\n    event => {\n      if (event.code === 'Escape') {\n        onClose();\n      }\n      if (event.key === 'ArrowLeft') {\n        onArrowLeft();\n      }\n      if (event.key === 'ArrowRight') {\n        onArrowRight();\n      }\n    },\n    [onClose, onArrowLeft, onArrowRight],\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', handlekeyDown);\n    return () => window.removeEventListener('keydown', handlekeyDown);\n  }, [handlekeyDown]);\n\n  const handleLeft = () => {\n    onArrowLeft();\n  };\n\n  const handleRight = () => {\n    onArrowRight();\n  };\n\n  const handleBackDropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.overlay} onClick={handleBackDropClick}>\n      <div className={s.modal}>\n        <button\n          className={s.leftarrow}\n          type=\"button\"\n          onClick={() => handleLeft()}\n        ></button>\n        <img src={imageModal} alt=\"\" />\n        <button\n          className={s.rightarrow}\n          type=\"button\"\n          onClick={() => handleRight()}\n        ></button>\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\n\n// export default class Modal extends Component {\n//   componentDidMount() {\n//     window.addEventListener('keydown', this.handlekeyDown);\n//   }\n\n//   componentWillUnmount() {\n//     window.removeEventListener('keydown', this.handlekeyDown);\n//   }\n\n//   handlekeyDown = event => {\n//     if (event.code === 'Escape') {\n//       this.props.onClose();\n//     }\n//     if (event.key === 'ArrowLeft') {\n//       this.props.onArrowLeft();\n//     }\n//     if (event.key === 'ArrowRight') {\n//       this.props.onArrowRight();\n//     }\n//   };\n\n//   handleLeft = () => {\n//     this.props.onArrowLeft();\n//   };\n\n//   handleRight = () => {\n//     this.props.onArrowRight();\n//   };\n\n//   handleBackDropClick = event => {\n//     if (event.currentTarget === event.target) {\n//       this.props.onClose();\n//     }\n//   };\n\n//   render() {\n//     const { imageModal } = this.props;\n//     return createPortal(\n//       <div className={s.overlay} onClick={this.handleBackDropClick}>\n//         <div className={s.modal}>\n//           <button\n//             className={s.leftarrow}\n//             type=\"button\"\n//             onClick={() => this.handleLeft()}\n//           ></button>\n//           <img src={imageModal} alt=\"\" />\n//           <button\n//             className={s.rightarrow}\n//             type=\"button\"\n//             onClick={() => this.handleRight()}\n//           ></button>\n//         </div>\n//       </div>,\n//       modalRoot,\n//     );\n//   }\n// }\n\nModal.propTypes = {\n  modalImg: PropTypes.string,\n  onClose: PropTypes.func,\n};\n","import { useState } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport Modal from '../Modal/Modal';\nimport PropTypes, { shape } from 'prop-types';\n\nexport default function ImageGallery({ images }) {\n  const [showModal, setShowModal] = useState(false);\n  const [imageModal, setImageModal] = useState('');\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const handleClick = largeImageURL => {\n    setImageModal(largeImageURL);\n    toggleModal();\n  };\n\n  const onArrowRight = () => {\n    const sourceImg = images.map(({ largeImageURL }) => {\n      return largeImageURL;\n    });\n    let indexOfImg = sourceImg.indexOf(imageModal);\n\n    if (indexOfImg + 1 > sourceImg.length - 1) {\n      indexOfImg = -1;\n    }\n    setImageModal(sourceImg[indexOfImg + 1]);\n  };\n\n  const onArrowLeft = () => {\n    const sourceImg = images.map(({ largeImageURL }) => {\n      return largeImageURL;\n    });\n    let indexOfImg = sourceImg.indexOf(imageModal);\n\n    if (indexOfImg === 0) {\n      indexOfImg = sourceImg.length;\n    }\n    setImageModal(sourceImg[indexOfImg - 1]);\n  };\n\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n          return (\n            <ImageGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              largeImageURL={largeImageURL}\n              tags={tags}\n              onClick={() => {\n                handleClick(largeImageURL);\n              }}\n            />\n          );\n        })}\n      </ul>\n      {showModal && (\n        <Modal\n          imageModal={imageModal}\n          onClose={toggleModal}\n          onArrowRight={onArrowRight}\n          onArrowLeft={onArrowLeft}\n        />\n      )}\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ),\n};\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default class LoaderComponent extends Component {\n  render() {\n    return (\n      <Loader\n        className={s.loader}\n        type=\"Bars\"\n        color=\"#3f51b5\"\n        height={90}\n        width={90}\n      />\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/hero.bca0950e.jpg\";","import s from './Initial.module.css';\nimport '../images/hero.jpg';\n\nexport default function Initial() {\n  return (\n    <div className={s.hero}>\n      <h1>Lets search some pictures</h1>\n    </div>\n  );\n}\n","import s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <div className={s.Buttonwrapp}>\n      <button className={s.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n}\n","import PropTypes from 'prop-types';\nimport s from './NotFound.module.css';\n\nexport default function NotFound({ onError }) {\n  return (\n    <div className={s.notfoundwrapper}>\n      <h1>{onError}</h1>\n    </div>\n  );\n}\nNotFound.propTypes = {\n  errorMessage: PropTypes.string,\n};\n","const imagesAPI = ({ searchQuery = '', page = 1 }) => {\n  const BASE_URL =\n    'https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12';\n  const API_KEY = '23976074-1864ef446645d9fee251ba638';\n  return fetch(`${BASE_URL}&q=${searchQuery}&page=${page}&key=${API_KEY}`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      return Promise.reject(new Error(`API error!`));\n    },\n  );\n};\nconst API = { imagesAPI };\n\nexport default API;\n","import React, { useState, useEffect } from 'react';\n// import {Component} from 'react'\nimport PropTypes from 'prop-types';\n\nimport ImageGallery from '../ImageGallery';\nimport Loader from '../Loader';\nimport Initial from '../Initial';\nimport Button from '../Button';\nimport NotFound from '../NotFound';\nimport API from '../../services/searchAPI';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  REJECTED: 'rejected',\n  RESOLVED: 'resolved',\n};\n\nexport default function RenderImages({ searchQuery }) {\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n    setStatus(Status.PENDING);\n\n    API.imagesAPI({ searchQuery, page })\n      .then(query => {\n        if (query.hits.length === 0) {\n          return Promise.reject(\n            new Error(`Results for: ${searchQuery} not found.`),\n          );\n        }\n        setImages(prevImages => [...prevImages, ...query.hits]);\n        setStatus(Status.RESOLVED);\n        onScroll();\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [searchQuery, page]);\n\n  useEffect(() => {\n    resetImages();\n  }, [searchQuery]);\n\n  const onScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n      block: 'end',\n    });\n  };\n\n  const resetImages = () => {\n    setImages([]);\n    setPage(1);\n  };\n\n  const handleLoadmoreButton = () => {\n    setPage(prevPage => prevPage + 1);\n    onScroll();\n  };\n\n  if (status === Status.IDLE) {\n    return <Initial />;\n  }\n  if (status === Status.PENDING) {\n    return (\n      <>\n        <Loader />\n        <ImageGallery images={images} />\n      </>\n    );\n  }\n  if (status === Status.REJECTED) {\n    return <NotFound onError={error.message} />;\n  }\n  if (status === Status.RESOLVED) {\n    return (\n      <>\n        <ImageGallery images={images} />\n        <Button onClick={handleLoadmoreButton} />\n        {/* {status === Status.PENDING ? (<Loader />) : ( <Button onClick={handleLoadmoreButton} />)} */}\n      </>\n    );\n  }\n}\n\nRenderImages.propTypes = {\n  searchQuery: PropTypes.string,\n};\n\n\n\n\n// export default class RenderImages extends Component {\n//   state = {\n//     page: 1,\n//     images: [],\n//     error: null,\n//     status: 'idle',\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     const prevSearch = prevProps.searchQuery;\n//     const curentSearch = this.props.searchQuery;\n\n//     const prevPage = prevState.page;\n//     const curentPage = this.state.page;\n\n//     if (prevSearch !== curentSearch) {\n//       this.resetImages();\n//       this.onSearch();\n//       this.setState({ status: 'pending' });\n//     }\n//     if (prevPage !== curentPage) {\n//       this.onSearch();\n//       this.setState({ status: 'pending' });\n//     }\n//   }\n\n//   onSearch() {\n//     this.setState({ status: 'pending' });\n//     const { page } = this.state;\n//     const { searchQuery } = this.props;\n\n//     API(searchQuery, page)\n//       .then(query => {\n//         if (query.hits.length === 0) {\n//           return Promise.reject(\n//             new Error(`Results for: ${searchQuery}  not found.`),\n//           );\n//         }\n//         this.setState({\n//           images: [...this.state.images, ...query.hits],\n//           status: 'resolved',\n//         });\n//         this.onScroll();\n//       })\n//       .catch(error => this.setState({ error, status: 'rejected' }));\n//   }\n\n//   onScroll = () => {\n//     window.scrollTo({\n//       top: document.documentElement.scrollHeight,\n//       behavior: 'smooth',\n//       block: 'end',\n//     });\n//   };\n\n//   resetImages = () => {\n//     this.setState({ images: [], page: 1 });\n//   };\n\n//   handleLoadmoreButton = () => {\n//     this.setState(prevState => ({ page: prevState.page + 1 }));\n//     this.onScroll();\n//   };\n\n//   render() {\n//     const { status, images, error } = this.state;\n//     if (status === 'idle') {\n//       return <Initial />;\n//     }\n//     if (status === 'pending') {\n//       return (\n//         <>\n//           <Loader />\n//           <ImageGallery images={images} />\n//         </>\n//       );\n//     }\n//     if (status === 'rejected') {\n//       return <NotFound onError={error.message} />;\n//     }\n//     if (status === 'resolved') {\n//       return (\n//         <>\n//           <ImageGallery images={images} />\n//           <Button onClick={this.handleLoadmoreButton} />\n//         </>\n//       );\n//     }\n//   }\n// }\n","import Searchbar from './components/Searchbar';\nimport { useState } from 'react';\nimport { ToastContainer, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport RenderImages from './components/RenderImages';\n\nexport default function App() {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSearchbarSubmit = searchQuery => {\n    setSearchQuery(searchQuery);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSearchbarSubmit} />\n      <RenderImages searchQuery={searchQuery} />\n      <ToastContainer transition={Slide} />\n    </div>\n  );\n}\n\n// export default class App extends Component {\n//   state = {\n//     searchQuery: '',\n//   };\n\n// handleSearchbarSubmit = searchQuery => {\n//   this.setState({ searchQuery });\n// };\n\n//   render() {\n//     return (\n//       <div className=\"App\">\n//         <Searchbar onSubmit={this.handleSearchbarSubmit} />\n//         <RenderImages searchQuery={this.state.searchQuery} />\n//         <ToastContainer transition={Slide} />\n//       </div>\n//     );\n//   }\n// }\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3-Iep\",\"SearchForm\":\"Searchbar_SearchForm__ePhlF\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2x17w\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__JE1eA\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2zmhK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2ryoB\",\"modal\":\"Modal_modal__1zVy7\",\"showModal\":\"Modal_showModal__3DmPB\",\"leftarrow\":\"Modal_leftarrow__rR7Jv\",\"rightarrow\":\"Modal_rightarrow__3zG51\"};"],"sourceRoot":""}