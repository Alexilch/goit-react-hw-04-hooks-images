(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,r){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3lRiq",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__14n2W"}},12:function(e,t,r){e.exports={Buttonwrapp:"Button_Buttonwrapp__1x8y9",Button:"Button_Button__3-F_o"}},14:function(e,t,r){e.exports={ImageGallery:"ImageGallery_ImageGallery__3-2av"}},19:function(e,t,r){e.exports={loader:"Loader_loader__lTxNx"}},20:function(e,t,r){e.exports={hero:"Initial_hero__2x-7N"}},21:function(e,t,r){e.exports={notfoundwrapper:"NotFound_notfoundwrapper__EqK19"}},28:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(4),c=r.n(o),s=(r(28),r(3)),i=r(6),u=r(7),l=r.n(u),m=r(1);function j(e){var t=e.onSubmit,r=Object(a.useState)(""),n=Object(s.a)(r,2),o=n[0],c=n[1];return Object(m.jsx)("header",{className:l.a.Searchbar,children:Object(m.jsxs)("form",{className:l.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),c("")):i.c.error("Cannot send empty request",{position:"top-left",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(m.jsx)("button",{type:"submit",className:l.a.SearchForm_button}),Object(m.jsx)("input",{className:l.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){c(e.currentTarget.value.toLowerCase())}})]})})}r(30);var b=r(13),h=r(11),d=r.n(h);function f(e){var t=e.webformatURL,r=e.largeImageURL,a=e.tags,n=e.onClick,o=e.ref,c=void 0===o?null:o;return Object(m.jsx)("li",{className:d.a.ImageGalleryItem,ref:c,children:Object(m.jsx)("img",{className:d.a.ImageGalleryItem_image,src:t,alt:a,"data-source":r,onClick:n})})}var g=r(14),_=r.n(g),p=r(8),O=r.n(p),x=document.querySelector("#modal-root");function v(e){var t=e.imageModal,r=e.onClose,n=e.onArrowLeft,c=e.onArrowRight;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&r(),"ArrowLeft"===e.key&&n(),"ArrowRight"===e.key&&c()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[r,n,c]);return Object(o.createPortal)(Object(m.jsx)("div",{className:O.a.overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:Object(m.jsxs)("div",{className:O.a.modal,children:[Object(m.jsx)("button",{className:O.a.leftarrow,type:"button",onClick:function(){n()}}),Object(m.jsx)("img",{src:t,alt:""}),Object(m.jsx)("button",{className:O.a.rightarrow,type:"button",onClick:function(){c()}})]})}),x)}function w(e){var t=e.images,r=Object(a.useState)(!1),n=Object(s.a)(r,2),o=n[0],c=n[1],i=Object(a.useState)(""),u=Object(s.a)(i,2),l=u[0],j=u[1],b=function(){c(!o)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("ul",{className:_.a.ImageGallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,a=e.largeImageURL,n=e.tags;return Object(m.jsx)(f,{webformatURL:r,largeImageURL:a,tags:n,onClick:function(){!function(e){j(e),b()}(a)}},t)}))}),o&&Object(m.jsx)(v,{imageModal:l,onClose:b,onArrowRight:function(){var e=t.map((function(e){return e.largeImageURL})),r=e.indexOf(l);r+1>e.length-1&&(r=-1),j(e[r+1])},onArrowLeft:function(){var e=t.map((function(e){return e.largeImageURL})),r=e.indexOf(l);0===r&&(r=e.length),j(e[r-1])}})]})}var y=r(15),S=r(16),I=r(23),k=r(22),N=(r(31),r(18)),C=r.n(N),F=r(19),L=r.n(F),E=function(e){Object(I.a)(r,e);var t=Object(k.a)(r);function r(){return Object(y.a)(this,r),t.apply(this,arguments)}return Object(S.a)(r,[{key:"render",value:function(){return Object(m.jsx)(C.a,{className:L.a.loader,type:"Bars",color:"#3f51b5",height:90,width:90})}}]),r}(a.Component),R=r(20),B=r.n(R);r.p;function G(){return Object(m.jsx)("div",{className:B.a.hero,children:Object(m.jsx)("h1",{children:"Lets search some pictures"})})}var A=r(12),M=r.n(A);function P(e){var t=e.onClick;return Object(m.jsx)("div",{className:M.a.Buttonwrapp,children:Object(m.jsx)("button",{className:M.a.Button,type:"button",onClick:t,children:"Load more"})})}var U=r(21),q=r.n(U);function z(e){var t=e.onError;return Object(m.jsx)("div",{className:q.a.notfoundwrapper,children:Object(m.jsx)("h1",{children:t})})}var J={imagesAPI:function(e){var t=e.searchQuery,r=void 0===t?"":t,a=e.page,n=void 0===a?1:a;return fetch("".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12","&q=").concat(r,"&page=").concat(n,"&key=").concat("23976074-1864ef446645d9fee251ba638")).then((function(e){return e.ok?e.json():Promise.reject(new Error("API error!"))}))}},Q="idle",T="pending",D="rejected",H="resolved";function K(e){var t=e.searchQuery,r=Object(a.useState)(1),n=Object(s.a)(r,2),o=n[0],c=n[1],i=Object(a.useState)([]),u=Object(s.a)(i,2),l=u[0],j=u[1],h=Object(a.useState)(null),d=Object(s.a)(h,2),f=d[0],g=d[1],_=Object(a.useState)("idle"),p=Object(s.a)(_,2),O=p[0],x=p[1];Object(a.useEffect)((function(){""!==t&&(x(T),J.imagesAPI({searchQuery:t,page:o}).then((function(e){if(!e.hits.length)return Promise.reject(new Error("Results for: ".concat(t," not found.")));j((function(t){return[].concat(Object(b.a)(t),Object(b.a)(e.hits))})),x(H),v()})).catch((function(e){g(e),x(D)})))}),[t,o]),Object(a.useEffect)((function(){y()}),[t]);var v=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth",block:"end"})},y=function(){j([]),c(1)};return O===Q?Object(m.jsx)(G,{}):O===T?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E,{}),Object(m.jsx)(w,{images:l})]}):O===D?Object(m.jsx)(z,{onError:f.message}):O===H?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(w,{images:l}),l.length>11&&Object(m.jsx)(P,{onClick:function(){c((function(e){return e+1})),v()}})]}):void 0}function V(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),r=t[0],n=t[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(j,{onSubmit:function(e){n(e)}}),Object(m.jsx)(K,{searchQuery:r}),Object(m.jsx)(i.b,{transition:i.a})]})}c.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(V,{})}),document.getElementById("root"))},7:function(e,t,r){e.exports={Searchbar:"Searchbar_Searchbar__3-Iep",SearchForm:"Searchbar_SearchForm__ePhlF",SearchForm_button:"Searchbar_SearchForm_button__2x17w",SearchForm_button_label:"Searchbar_SearchForm_button_label__JE1eA",SearchForm_input:"Searchbar_SearchForm_input__2zmhK"}},8:function(e,t,r){e.exports={overlay:"Modal_overlay__2ryoB",modal:"Modal_modal__1zVy7",showModal:"Modal_showModal__3DmPB",leftarrow:"Modal_leftarrow__rR7Jv",rightarrow:"Modal_rightarrow__3zG51"}}},[[52,1,2]]]);
//# sourceMappingURL=main.b8381279.chunk.js.map